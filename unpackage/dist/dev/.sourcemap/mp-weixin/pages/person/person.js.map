{"version":3,"sources":["uni-app:///main.js","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?52e5","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?77dd","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?019d","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?c3b4","uni-app:///pages/person/person.vue","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?58e8","webpack:////Users/sun/Desktop/guiguyun-music-uni-app/pages/person/person.vue?3aa8"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,+F;AACAA,UAAU,CAACC,eAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC6M;AAC7M,gBAAgB,iNAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqzB,CAAgB,oyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8Fz0B,2F;AACA;AACA,MADA,kBACA;AACA;AACA,eADA,EACA;AACA,cAFA,EAEA;AACA,sBAHA,EAGA;AACA,0CAJA,EAIA;AACA,wBALA,EAKA;AACA,kBANA,EAMA;AACA,wBAPA,CAOA;AAPA;AASA,GAXA;AAYA,SAZA,qBAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GArBA;AAsBA;AACA;AACA,qBAFA,6BAEA,MAFA,EAEA;AACA,iFADA,SACA,IADA;AAEA,qBAFA,GAEA,CAFA;AAGA,8BAHA,GAGA;AACA;AACA;AACA,iBAHA,CAHA;AAOA,sDAPA;AAQA,KAVA;AAWA,oBAXA,4BAWA,KAXA,EAWA;AACA;AACA;AACA,KAdA;AAeA,mBAfA,2BAeA,KAfA,EAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA9BA;AA+BA,kBA/BA,0BA+BA,KA/BA,EA+BA;AACA;AACA;AACA;AACA,KAnCA;AAoCA;AACA,aArCA,uBAqCA;AACA;AACA,iCADA;;AAGA,KAzCA;AA0CA;AACA,YA3CA,sBA2CA;AACA,kDADA,SACA,IADA;AAEA;AACA;AACA;AACA,mCADA;AAEA,gCAFA;AAGA,kCAHA;AAIA,+BAJA;AAKA;AACA;AACA;AACA;AACA,qBATA;;AAWA,iBAfA;AAgBA,KA3DA,EAtBA,E;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAA0/C,CAAgB,s5CAAG,EAAC,C;;;;;;;;;;;ACA9gD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/person/person.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/person/person.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./person.vue?vue&type=template&id=390a77b4&scoped=true&\"\nvar renderjs\nimport script from \"./person.vue?vue&type=script&lang=js&\"\nexport * from \"./person.vue?vue&type=script&lang=js&\"\nimport style0 from \"./person.vue?vue&type=style&index=0&id=390a77b4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"390a77b4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/person/person.vue\"\nexport default component.exports","export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./person.vue?vue&type=template&id=390a77b4&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./person.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./person.vue?vue&type=script&lang=js&\"","<template>\n  <view class=\"personalConntainer\">\n      <!-- 个人信息区域 -->\n      <view class=\"userSection\">\n          <!-- 背景图片 -->\n          <image class=\"bgImg\" src=\"/static/images/personal/bgImg2.jpg\"  />\n          <!-- 头像区域 -->\n          <view class=\"avatar\" @click=\"goToLogin\">\n              <image class=\"\" :src='userInfo.avatarUrl?userInfo.avatarUrl:\"/static/images/personal/missing-face.png\"'  />\n              <text class=\"name\" >\n                  {{userInfo.nickname?userInfo.nickname: '请登录'}}\n              </text> \n          </view>\n          <!-- 退出登录按钮 -->\n          <view class=\"loginOut\" v-if=\"userInfo.nickname\" @click=\"loginOut\">\n              退出登录\n          </view>\n          <!-- vip区域 -->\n          <view class=\"vip-card-box\">\n              <!-- 背景图片 -->\n              <image class=\"\" src=\"/static/images/personal/vip-card-bg.png\" />\n              <!-- 标题区域 -->\n              <view class=\"title\">\n                  <view class=\"left\">\n                      <text class=\"iconfont icon-huiyuan-\" style=\"color: #f6e5a3;\"></text>\n                      <text class=\"\" >硅谷会员</text>    \n                  </view>\n                  <view class=\"right\">立即开通</view>\n              </view>\n              <view class=\"content\">\n                  <text class=\"em-a\">开通会员听歌, 撸代码</text>\n                  <text class=\"em-b\">开通会员听歌, 撸代码</text>\n              </view>\n          </view>\n      </view>\n      <!-- 个人具体操作信息 -->\n        <!-- 个人具体操作信息 -->\n           <view\n           class=\"personalControl\" \n           @touchstart=\"handleTouchStart\" \n           @touchmove=\"handleTouchMove\" \n           @touchend=\"handleTouchEnd\"\n           :style=\"{transform: coverTransform,transition: coveTransition}\"\n           >\n               <image class=\"image\" src=\"/static/images/personal/arc.png\" />\n               <view class=\"nav-box\">\n                   <view class=\"nav-item\">\n                       <text class=\"iconfont icon-xiaoxi\" ></text>\n                       <text class=\"text\" >我的消息</text>   \n                   </view>\n                   <view class=\"nav-item\">\n                       <text class=\"iconfont icon-myRecommender\" ></text>\n                       <text class=\"text\" >我的好友</text>   \n                   </view>\n                   <view class=\"nav-item\">\n                       <text class=\"iconfont icon-gerenzhuye\" ></text>\n                       <text class=\"text\" >个人主页</text>   \n                   </view>\n                   <view class=\"nav-item\">\n                       <text class=\"iconfont icon-gexingzhuangban\" ></text>\n                       <text class=\"text\" >个性装扮</text>   \n                   </view>\n               </view>\n               <!-- 个人播放记录 -->\n           <view class=\"personalContent\">\n               <view class=\"title\">\n                   <text class=\"first\">最近播放</text>\n               </view>\n               <scroll-view v-if=\"userPlayRecord.length\" scroll-x class=\"recentScroll\" enable-flex>\n                 <view class=\"recentItem\" v-for=\"(item,index) in userPlayRecord\" :key=\"item.id\">\n                   <image class=\"\" :src=\"item.song.al.picUrl\"/>             \n                 </view>\n               </scroll-view>\n               <view wx:else>暂无播放记录</view>\n               <view class=\"nav-box\">\n                   <view class=\"item\">\n                       <text>我的音乐</text>\n                       <text>></text>\n                   </view>\n                   <view class=\"item\">\n                       <text>我的收藏</text>\n                       <text>></text>\n                   </view>\n                   <view class=\"item\">\n                       <text>我的电台</text>\n                       <text>></text>\n                   </view>\n               </view>\n           </view>\n           </view>\n  </view>\n</template>\n\n<script>\n  import request from \"../../api/request.js\"\n  export default {\n    data() {\n      return {\n         startY : 0,// 手指起始的坐标\n         moveY : 0, // 手指移动的坐标\n        lmoveDistance: 0, // 手指移动的距离\n        coverTransform: 'translateY(200)rpx', // 下拉动画的移动距离\n        coveTransition:'', // 动画\n        userInfo:{}, // 用户信息\n        userPlayRecord:[] // 用户播放记录数据\n      };\n    },\n    created() {\n          // 进入页面判断当前用户是否登录\n          // 读取用户的基本信息\n          var userInfos = wx.getStorageSync('userInfo');\n          if(userInfos){ // 用户登录\n            // 更新userInfo的状态\n              this.userInfo =  JSON.parse(userInfos)\n          }\n          this.getUserPlayRecord(this.userInfo.userId);\n    },\n    methods:{\n      // 获取用户播放记录\n        async getUserPlayRecord(userID){\n          let data = await request('/user/record',{uid:userID,type:0})\n          let index = 0;\n          let userPlayRecord = data.allData && data.allData.slice(0, 10).map(item => {\n            item.id = index++;\n            return item;\n          }) \n           this.userPlayRecord = userPlayRecord;\n        },\n        handleTouchStart(event){\n          // 获取起始坐标\n           this.startY = event.touches[0].clientY;\n        },\n        handleTouchMove(event){\n          // 获取移动的坐标\n           this.moveY = event.touches[0].clientY;\n          // 获取手指的移动距离\n          var moveDistance = this.moveY - this.startY;\n          // 禁止上划\n          if(moveDistance <= 0){\n            return;\n          }\n          // 滑动的最大距离为 80 \n          if(moveDistance >= 80){\n            moveDistance = 80;\n          }\n          // 动态更新手指的移动距离\n            this.coverTransform = `translateY(${moveDistance}rpx)`\n        },\n        handleTouchEnd(event){\n          // 动态更新coverTransform的状态值\n            this.coverTransform = `translateY(0rpx)`\n            this.coveTransition =  'transform 1s linear'\n        },\n       // 点击登录按钮跳转到登录页面\n        goToLogin(){\n          wx.navigateTo({\n            url:'/pages/login/login'\n          })\n        },\n        // 退出操作\n          async loginOut(){\n            let data = await request('/logout');\n            console.log(data)\n            if(data.code == 200) {\n              wx.showToast({\n                  title: '退出登录成功',\n                  icon: 'none',\n                  duration: 1500,\n                  mask: false,\n                  success: (result) => {\n                    wx.clearStorageSync('userInfo');\n                      this.userInfo = {}\n                      this.userPlayRecord = []\n                  }\n                })\n            }\n        },\n            \n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  .personalConntainer {\n      width: 100%;\n      height: 100%;\n      position: relative;\n      // 个人信息区域\n      .userSection {\n          position: relative;\n          // 背景图片区域\n          .bgImg{\n              width: 100%;\n              height: 620rpx;\n          }\n          // 头像区域\n          .avatar {\n              position: absolute;\n              top: 140rpx;\n              left: 40rpx;\n              display: flex;\n              image {\n                  width: 140rpx;\n                  height: 140rpx;\n                  border: 4px solid #fff;\n                  border-radius: 50%;\n              }\n              .name {\n                  margin-left: 20rpx;\n                  line-height: 140rpx;\n              }\n          }\n          .loginOut {\n              position: absolute;\n              top: 180rpx;\n              right: 40rpx;\n              background-color: #f5f5f5;\n              padding: 15rpx;\n              border: 1px solid #000;\n              font-size: 30rpx;\n              border-radius: 60rpx;\n          }\n          // vip 区域\n          .vip-card-box {\n              position: absolute;\n              top: 340rpx;\n              left: 40rpx;\n              background: rgba(0, 0, 0, .7);\n              height: 240rpx;\n              width: 90%;\n              border-radius: 20rpx;\n              padding: 20rpx;\n              box-sizing: border-box;\n              image {\n                  width: 380rpx;\n                  height: 260rpx;\n                  float: right;\n              }\n              // 标题区域\n              .title {\n                  position: absolute;\n                  width: 95%;\n                  height: 60rpx;\n                  font-size: 22rpx;\n                  color: #f7d680;\n                  display: flex;\n                  justify-content: space-between;\n                  .left{\n                      .icon-huiyuan- {\n                          margin-right: 20rpx;\n                      }\n                  }\n                  .right {\n                      width: 132rpx;\n                      height: 40rpx;\n                      text-align: center;\n                      line-height: 40rpx;\n                      font-size: 22rpx;\n                      color: #36343c;\n                      border-radius: 20px;\n                      background: #f9e6af;\n                  }\n              }\n              // 内容区域\n              .content {\n                  position: absolute;\n                  display: flex;\n                  flex-direction: column;\n                  margin-top: 80rpx;\n                  \n                  .em-a {\n                      font-size: 34rpx;\n                      color: #f9e6af;;\n                  }\n                  .em-b{\n                      margin-top: 20rpx;\n                      font-size: 24rpx;\n                      color: #d8cba9;\n                  }\n              }\n          }\n      }\n      // 个人具体操作信息\n      .personalControl {\n          // position: absolute;\n          // left: 0;\n          // top: 580rpx;\n          height: 740rpx;\n          width: 100%;\n          background-color: #f5f5f5;\n          margin-top: -40rpx;\n          padding: 0 40rpx;\n          box-sizing: border-box;\n          .image {\n              position: absolute;\n              left: 0;\n              top: -30rpx;\n              width: 100%;\n              height: 36rpx;\n          }\n          .nav-box {\n              background: #fff;\n              padding: 20rpx 0;\n              border-radius: 15rpx;\n              display: flex;\n              justify-content: space-evenly;\n              align-items: center;\n              .nav-item {\n                  display: flex;\n                  flex-direction: column;\n                  justify-content: space-between;\n                  align-items: center;\n                  .iconfont {\n                      font-size: 50rpx;\n                      color: #d43c33;\n                      line-height: 70rpx;\n                  }\n                  .text {\n                      font-size: 22rpx;\n                  }\n              }\n          }\n          .personalContent {\n              margin-top: 20rpx;\n              background-color: #fff;\n              width: 100%;\n              .title {\n                 display: flex;\n                 flex-direction: column;\n                 .first {\n                  padding-left: 20rpx;\n                  font-size: 26rpx;\n                  color: #333;\n                  line-height: 80rpx;\n                 }\n              }\n              // 播放记录\n              .recentScroll {\n                  display: flex;\n                  height: 200rpx;\n                  .recentItem {\n                      image {\n                          width: 200rpx;\n                          height: 200rpx;\n                          margin-right:20rpx;\n                          border-radius: 10rpx;\n                      }\n                  }\n              }\n              .nav-box {\n                  display: flex;\n                  flex-direction: column;\n                  align-items: space-between;\n                  // padding: 20rpx;\n                  .item {\n                      width: 100%;\n                      padding: 20rpx;\n                      border-top: 1rpx solid #eee;\n                      height: 80rpx;\n                      line-height: 80rpx;\n                      font-size: 26rpx;\n                      color: #333;\n                      box-sizing: border-box;\n                      display: flex;\n                      justify-content: space-between;\n                      align-items: center;\n                  }\n              }\n          }\n      }\n  }\n</style>\n","import mod from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./person.vue?vue&type=style&index=0&id=390a77b4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./person.vue?vue&type=style&index=0&id=390a77b4&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629278656647\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}